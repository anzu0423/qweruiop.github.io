<!DOCTYPE html>

<html lang="ja">

<head>
    <title>
        MEMBERS | TRENDcreate
    </title>

    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width,initial-scale=1'>
    <meta property='og:url' content='/members/index.html'>
    <meta property='og:type' content='website'>
    <meta property='og:site_name' content='TRENDcreate Official'>
    <meta property='og:title' content="MEMBERS">
    <meta property='og:description' content='誰がこのクレイジーなグループに所属しているか気になったことはありませんか？'>
    <meta property='og:image' content='https://www.trendcreate.one/_src/opg/default.png'>
    <meta property='twitter:card' content='summary_large_image'>
    <meta property='twitter:site' content='@trendcreate_jp'>
    <link rel='shortcut icon' href='/favicon.ico'>
    <link rel='icon' href='/favicon.ico'>

    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="./style/index.css">


    <script src="/main.js"></script>
    <script type="module">
        let memberlist = document.getElementById('memberlist');

        //let container = document.createElement('div');




        const mobileWidth = 800;

        import getMembers from '/_api/members.js';
        let members = getMembers;

        for (let i = 0; i < members.length; i++) {
            let member = members[i];

            let name = member.name;
            let mail = member.mail;
            let category = member.category;
            let role_arr = member.role;
            let description = member.description;
            let twitterId = member.twitter;
            let egg_arr = member.egg;

            //console.log(member);
            let member_container = document.createElement('div');
            member_container.setAttribute('class', 'member_container');


            let category_elm = document.createElement('div');
            let name_elm = document.createElement('div');
            let role_list = document.createElement('div');
            let description_elm = document.createElement('div');
            let twitterId_elm = document.createElement('div');
            let mail_elm = document.createElement('div');


            //member_container.innerHTML += `<div><h2>${name}</h2></div>`;
            name_elm.setAttribute('class', 'name');
            name_elm.innerHTML = `<h2>${name}</h2>`;

            if (mail) {
                mail_elm.setAttribute('class', 'mail');
                mail_elm.innerHTML += `<a href="mailto:${mail}">${mail}</a>`;
            }

            category_elm.setAttribute('class', 'category');
            if (category === 'nomal') {
                //member_container.innerHTML += `<div>${'TRENDcreate'}</div>`;
                category_elm.innerHTML = 'TRENDcreate';
            } else if (category === 'develops') {
                //member_container.innerHTML += `<div>${'TRENDcreate Develops'}</div>`;
                category_elm.innerText = 'TRENDcreate Develops';
            }


            role_list.setAttribute('class', 'role_list');
            if (role_arr) {
                for (let j = 0; j < role_arr.length; j++) {
                    let role = role_arr[j];
                    role_list.innerHTML += `<div>${role}</div>`;
                }
            }

            if (description) {
                //member_container.innerHTML += `<div>${description}</div>`;
                description_elm.setAttribute('class', 'description');
                description_elm.innerText = description;
            }

            if (twitterId) {
                //member_container.innerHTML += `<div><a href="https://twitter.com/${twitterId}" target="_blank">${twitterId}</a></div>`;
                twitterId_elm.setAttribute('class', 'twitterId');
                twitterId_elm.innerHTML = `<a alt="${twitterId}" href="https://twitter.com/${twitterId}" target="_blank"><img src="/_src/social_icons/twitter.png" width="26px" /></a>`;
            }

            if (egg_arr) {

                for (let i = 0; i < egg_arr.length; i++) {
                    if (egg_arr[i] === 'description_edit') {
                        description_elm.setAttribute('contenteditable', 'true');
                    }
                    if (egg_arr[i] === 'commandline_flag') {
                        let egg_count = 0;
                        name_elm.addEventListener('click', function () {
                            if (egg_count >= 7) {
                                let commandline_flag = localStorage.getItem('eggFlag_cmd');
                                if (commandline_flag === null) {
                                    localStorage.setItem('eggFlag_cmd', 0);
                                    //リロード
                                    location.reload();

                                    //const M_commandline = import('/_api/commandline/main.js').then((e) => {
                                    //    e.default();
                                    //    commandLine.log('set flag');
                                    //});
                                } else {
                                    commandLine.log('すでにフラグが立っています');
                                }
                                egg_count = 0;
                            } else {
                                egg_count++;
                            }
                        });
                    }

                }
            }


            member_container.appendChild(category_elm);
            member_container.appendChild(name_elm);
            member_container.appendChild(description_elm);
            //member_container.appendChild(twitterId_elm);
            name_elm.appendChild(twitterId_elm);
            member_container.appendChild(role_list);
            member_container.appendChild(mail_elm);




            memberlist.appendChild(member_container);
            //container.appendChild(member_container);




            //member_container.innerHTML += `<div><h2>${title}</h2></div>`;
            //member_container.innerHTML += `<div class="status">${status}</div>`;
            //member_container.innerHTML += `<div><p>${description}</p></div>`;
            //member_container.innerHTML += `<div class="activity_image"><img src="./image/${image}"></div>`;

            //let member_li = document.createElement('li');
            //member_li.innerHTML = `${member}`;
            //memberlist.appendChild(member_li);
        }
        //console.log(members);
    </script>
</head>

<body>
    <header>
        <div>
            <h1>
                <a href="/">
                    <img src="/_src/image/logo.svg" alt="TRENDcreate">
                </a>
            </h1>
            <button title="hamburger" id="nav_hamburger" class="he-nav_hamburger">
                <div id="hamburger_box" class="gr-hamburger_box">
                    <span id="hamburger_bar1" class="hamburger_bar1"></span>
                    <span id="hamburger_bar2" class="hamburger_bar2"></span>
                    <span id="hamburger_bar3" class="hamburger_bar3"></span>
                </div>
            </button>

            <nav>
                <ul>
                    <li><a href="/">HOME</a></li>
                    <li><a href="/activities">ACTIVITIES</a></li>
                    <li><a href="/contact">CONTACT</a></li>
                    <li><a href="/join">JOIN</a></li>
                    <li><a href="/members">MEMBERS</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="gr-maincontents">
            <div class="gr-pagetop_container">
                <h2 class="gr-page_title">MEMBERS</h2>
                <span class="gr-page_subtitle">誰がこのクレイジーなグループに所属しているか気になったことはありませんか？</span>
            </div>

            <div class="gr-contents_container">
                <article class="gr-contentbox">
                    <div id="memberlist" class="mo-memberlist"></div>
                </article>
            </div>
        </div>
    </main>

    <footer>
        <div class='fo-contents'>
            <ul class="fo-nav">
                <li><a href="/">HOME</a></li>
                <li><a href="/activities">ACTIVITIES</a></li>
                <li><a href="/contact">CONTACT</a></li>
                <li><a href="/join">JOIN</a></li>
                <li><a href="/members">MEMBERS</a></li>
            </ul>

            <ul class='fo-social_links'>
                <li>
                    <a href='https://twitter.com/trendcreate_jp' target='_blank' rel='noreferrer'>
                        <img title='twitter' src='/_src/social_icons/twitter.png' />
                    </a>
                </li>
                <li>
                    <a href='https://www.youtube.com/channel/UCZYm8CEaqemlJJ4MhXVS8rw' target='_blank' rel='noreferrer'>
                        <img title='youtube' src='/_src/social_icons/youtube.png' />
                    </a>
                </li>
                <li>
                    <a href='https://github.com/trendcreate' target='_blank' rel='noreferrer'>
                        <img title='amazon' src='/_src/social_icons/github.png' />
                    </a>
                </li>
            </ul>
        </div>
        <div class='fo-copyright'>
            Copyright &copy; 2021-2022 TRENDcreate
            <!-- 2022/08/06 -->
        </div>
    </footer>
</body>

</html>

</html>